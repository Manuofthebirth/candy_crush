!function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(n,a,function(r){return e[r]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";t.r(r);const n=document.querySelector(".game-grid"),a=[];const s=["url(img/red.png)","url(img/yellow.png)","url(img/orange.png)","url(img/purple.png)","url(img/green.png)","url(img/blue.png)"];document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("score"),r=document.getElementById("moves"),t=document.querySelector(".start-btn"),o=document.getElementById("timer");let u=0,d=0;!function(){for(let e=0;e<64;e++){const r=document.createElement("div");r.classList.add("square"),r.setAttribute("draggable",!0),r.setAttribute("id",e);let t=Math.floor(Math.random()*s.length);r.style.backgroundImage=s[t],n.appendChild(r),a.push(r)}}();let l,c,g,f,m,y=180;function b(){y<=0?(clearInterval(y=0),o.innerHTML="Game Over"):l&&(y-=1,o.innerHTML=new Date(1e3*y).toISOString().substr(14,5))}function I(){l&&(c=this.style.backgroundImage,f=parseInt(this.id),console.log(c),console.log(this.id,"dragstart"))}function h(e){e.preventDefault(),l&&console.log(this.id,"dragover")}function q(e){e.preventDefault(),l&&console.log(this.id,"dragenter")}function k(){l&&console.log(this.id,"dragleave")}function v(){if(l){console.log(this.id,"dragend");let e=[f-1,f-width,f+1,f+width].includes(m);m&&e?(m=null,d+=1,r.innerHTML=d):m&&!e?(squares[m].style.backgroundImage=g,squares[f].style.backgroundImage=c):squares[f].style.backgroundImage=c}}function p(){l&&(console.log(this.id,"dragdrop"),g=this.style.backgroundImage,m=parseInt(this.id),this.style.backgroundImage=c,squares[f].style.backgroundImage=g)}function E(){for(i=0;i<61;i++){let r=[i,i+1,i+2],t=squares[i].style.backgroundImage;const n=""===squares[i].style.backgroundImage;[6,7,14,15,22,23,30,31,38,39,46,47,54,55].includes(i)||r.every(e=>squares[e].style.backgroundImage===t&&!n)&&(l&&(u+=3,e.innerHTML=u),r.forEach(e=>{squares[e].style.backgroundImage=""}))}}function L(){for(i=0;i<47;i++){let r=[i,i+width,i+2*width],t=squares[i].style.backgroundImage;const n=""===squares[i].style.backgroundImage;r.every(e=>squares[e].style.backgroundImage===t&&!n)&&(l&&(u+=3,e.innerHTML=u),r.forEach(e=>{squares[e].style.backgroundImage=""}))}}function M(){for(i=0;i<60;i++){let r=[i,i+1,i+2,i+3],t=squares[i].style.backgroundImage;const n=""===squares[i].style.backgroundImage;[5,6,7,13,14,15,21,22,23,29,30,31,37,38,39,45,46,47,53,54,55].includes(i)||r.every(e=>squares[e].style.backgroundImage===t&&!n)&&(l&&(u+=4,e.innerHTML=u),r.forEach(e=>{squares[e].style.backgroundImage=""}))}}function w(){for(i=0;i<39;i++){let r=[i,i+width,i+2*width,i+3*width],t=squares[i].style.backgroundImage;const n=""===squares[i].style.backgroundImage;r.every(e=>squares[e].style.backgroundImage===t&&!n)&&(l&&(u+=4,e.innerHTML=u),r.forEach(e=>{squares[e].style.backgroundImage=""}))}}function T(){for(i=0;i<59;i++){let r=[i,i+1,i+2,i+3,i+4],t=squares[i].style.backgroundImage;const n=""===squares[i].style.backgroundImage;[4,5,6,7,12,13,14,15,20,21,22,23,28,29,30,31,36,37,38,39,44,45,46,47,52,53,54,55].includes(i)||r.every(e=>squares[e].style.backgroundImage===t&&!n)&&(l&&(u+=5,e.innerHTML=u),r.forEach(e=>{squares[e].style.backgroundImage=""}))}}function H(){for(i=0;i<31;i++){let r=[i,i+width,i+2*width,i+3*width,i+4*width],t=squares[i].style.backgroundImage;const n=""===squares[i].style.backgroundImage;r.every(e=>squares[e].style.backgroundImage===t&&!n)&&(l&&(u+=5,e.innerHTML=u),r.forEach(e=>{squares[e].style.backgroundImage=""}))}}t.addEventListener("click",()=>{l?(clearInterval(l),l=null,t.innerHTML="Resume"):(clearInterval(l),l=setInterval(b,1e3),t.innerHTML="Pause")}),squares.forEach(e=>e.addEventListener("dragstart",I)),squares.forEach(e=>e.addEventListener("dragend",v)),squares.forEach(e=>e.addEventListener("dragover",h)),squares.forEach(e=>e.addEventListener("dragenter",q)),squares.forEach(e=>e.addEventListener("dragleave",k)),squares.forEach(e=>e.addEventListener("drop",p)),E(),L(),M(),w(),T(),H(),window.setInterval((function(){!function(){for(i=0;i<55;i++)if(""===squares[i+width].style.backgroundImage){squares[i+width].style.backgroundImage=squares[i].style.backgroundImage,squares[i].style.backgroundImage="";if([0,1,2,3,4,5,6,7].includes(i)&&""===squares[i].style.backgroundImage){let e=Math.floor(Math.random()*candyColors.length);squares[i].style.backgroundImage=candyColors[e]}}}(),T(),H(),M(),w(),E(),L()}),100)})}]);